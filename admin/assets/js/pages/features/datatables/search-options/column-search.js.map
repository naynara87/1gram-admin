{"version":3,"sources":["webpack://keen/../demo1/src/js/pages/features/datatables/search-options/column-search.js"],"names":[],"mappings":";;;;;;AAAa;AACb;;AAEA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA,iCAAiC;AACjC;AACA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA,6BAA6B;AAC7B;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA,SAAS;;AAET;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;;AAEA,CAAC;;AAED;AACA;AACA,CAAC","file":"js/pages/features/datatables/search-options/column-search.js","sourcesContent":["\"use strict\";\nvar KTDatatablesSearchOptionsColumnSearch = function() {\n\n    $.fn.dataTable.Api.register('column().title()', function() {\n        return $(this.header()).text().trim();\n    });\n\n    var initTable1 = function() {\n\n        // begin first table\n        var table = $('#kt_datatable').DataTable({\n            responsive: true,\n\n            // Pagination settings\n            dom: `<'row'<'col-sm-12'tr>>\n\t\t\t<'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7 dataTables_pager'lp>>`,\n            // read more: https://datatables.net/examples/basic_init/dom.html\n\n            lengthMenu: [5, 10, 25, 50],\n\n            pageLength: 10,\n\n            language: {\n                'lengthMenu': 'Display _MENU_',\n            },\n\n            searchDelay: 500,\n            processing: true,\n            serverSide: true,\n            ajax: {\n                url: HOST_URL + '/api/datatables/demos/server.php',\n                type: 'POST',\n                data: {\n                    // parameters for custom backend script demo\n                    columnsDef: [\n                        'RecordID', 'OrderID', 'Country', 'ShipCity', 'CompanyAgent',\n                        'ShipDate', 'Status', 'Type', 'Actions',\n                    ],\n                },\n            },\n            columns: [{\n                    data: 'RecordID'\n                },\n                {\n                    data: 'OrderID'\n                },\n                {\n                    data: 'Country'\n                },\n                {\n                    data: 'ShipCity'\n                },\n                {\n                    data: 'CompanyAgent'\n                },\n                {\n                    data: 'ShipDate'\n                },\n                {\n                    data: 'Status'\n                },\n                {\n                    data: 'Type'\n                },\n                {\n                    data: 'Actions',\n                    responsivePriority: -1\n                },\n            ],\n            initComplete: function() {\n                var thisTable = this;\n                var rowFilter = $('<tr class=\"filter\"></tr>').appendTo($(table.table().header()));\n\n                this.api().columns().every(function() {\n                    var column = this;\n                    var input;\n\n                    switch (column.title()) {\n                        case 'Record ID':\n                        case 'Order ID':\n                        case 'Ship City':\n                        case 'Company Agent':\n                            input = $(`<input type=\"text\" class=\"form-control form-control-sm form-filter datatable-input\" data-col-index=\"` + column.index() + `\"/>`);\n                            break;\n\n                        case 'Country':\n                            input = $(`<select class=\"form-control form-control-sm form-filter datatable-input\" title=\"Select\" data-col-index=\"` + column.index() + `\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"\">Select</option></select>`);\n                            column.data().unique().sort().each(function(d, j) {\n                                $(input).append('<option value=\"' + d + '\">' + d + '</option>');\n                            });\n                            break;\n\n                        case 'Status':\n                            var status = {\n                                1: {\n                                    'title': 'Pending',\n                                    'class': 'label-light-primary'\n                                },\n                                2: {\n                                    'title': 'Delivered',\n                                    'class': ' label-light-danger'\n                                },\n                                3: {\n                                    'title': 'Canceled',\n                                    'class': ' label-light-primary'\n                                },\n                                4: {\n                                    'title': 'Success',\n                                    'class': ' label-light-success'\n                                },\n                                5: {\n                                    'title': 'Info',\n                                    'class': ' label-light-info'\n                                },\n                                6: {\n                                    'title': 'Danger',\n                                    'class': ' label-light-danger'\n                                },\n                                7: {\n                                    'title': 'Warning',\n                                    'class': ' label-light-warning'\n                                },\n                            };\n                            input = $(`<select class=\"form-control form-control-sm form-filter datatable-input\" title=\"Select\" data-col-index=\"` + column.index() + `\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"\">Select</option></select>`);\n                            column.data().unique().sort().each(function(d, j) {\n                                $(input).append('<option value=\"' + d + '\">' + status[d].title + '</option>');\n                            });\n                            break;\n\n                        case 'Type':\n                            var status = {\n                                1: {\n                                    'title': 'Online',\n                                    'state': 'danger'\n                                },\n                                2: {\n                                    'title': 'Retail',\n                                    'state': 'primary'\n                                },\n                                3: {\n                                    'title': 'Direct',\n                                    'state': 'success'\n                                },\n                            };\n                            input = $(`<select class=\"form-control form-control-sm form-filter datatable-input\" title=\"Select\" data-col-index=\"` + column.index() + `\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"\">Select</option></select>`);\n                            column.data().unique().sort().each(function(d, j) {\n                                $(input).append('<option value=\"' + d + '\">' + status[d].title + '</option>');\n                            });\n                            break;\n\n                        case 'Ship Date':\n                            input = $(`\n    \t\t\t\t\t\t\t<div class=\"input-group date\">\n    \t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control form-control-sm datatable-input\" readonly placeholder=\"From\" id=\"kt_datepicker_1\"\n    \t\t\t\t\t\t\t\t data-col-index=\"` + column.index() + `\"/>\n    \t\t\t\t\t\t\t\t<div class=\"input-group-append\">\n    \t\t\t\t\t\t\t\t\t<span class=\"input-group-text\"><i class=\"la la-calendar-o glyphicon-th\"></i></span>\n    \t\t\t\t\t\t\t\t</div>\n    \t\t\t\t\t\t\t</div>\n    \t\t\t\t\t\t\t<div class=\"input-group date d-flex align-content-center\">\n    \t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control form-control-sm datatable-input\" readonly placeholder=\"To\" id=\"kt_datepicker_2\"\n    \t\t\t\t\t\t\t\t data-col-index=\"` + column.index() + `\"/>\n    \t\t\t\t\t\t\t\t<div class=\"input-group-append\">\n    \t\t\t\t\t\t\t\t\t<span class=\"input-group-text\"><i class=\"la la-calendar-o glyphicon-th\"></i></span>\n    \t\t\t\t\t\t\t\t</div>\n    \t\t\t\t\t\t\t</div>`);\n                            break;\n\n                        case 'Actions':\n                            var search = $(`\n                                <button class=\"btn btn-primary kt-btn btn-sm kt-btn--icon d-block\">\n\t\t\t\t\t\t\t        <span>\n\t\t\t\t\t\t\t            <i class=\"la la-search\"></i>\n\t\t\t\t\t\t\t            <span>Search</span>\n\t\t\t\t\t\t\t        </span>\n\t\t\t\t\t\t\t    </button>`);\n\n                            var reset = $(`\n                                <button class=\"btn btn-secondary kt-btn btn-sm kt-btn--icon\">\n\t\t\t\t\t\t\t        <span>\n\t\t\t\t\t\t\t           <i class=\"la la-close\"></i>\n\t\t\t\t\t\t\t           <span>Reset</span>\n\t\t\t\t\t\t\t        </span>\n\t\t\t\t\t\t\t    </button>`);\n\n                            $('<th>').append(search).append(reset).appendTo(rowFilter);\n\n                            $(search).on('click', function(e) {\n                                e.preventDefault();\n                                var params = {};\n                                $(rowFilter).find('.datatable-input').each(function() {\n                                    var i = $(this).data('col-index');\n                                    if (params[i]) {\n                                        params[i] += '|' + $(this).val();\n                                    } else {\n                                        params[i] = $(this).val();\n                                    }\n                                });\n                                $.each(params, function(i, val) {\n                                    // apply search params to datatable\n                                    table.column(i).search(val ? val : '', false, false);\n                                });\n                                table.table().draw();\n                            });\n\n                            $(reset).on('click', function(e) {\n                                e.preventDefault();\n                                $(rowFilter).find('.datatable-input').each(function(i) {\n                                    $(this).val('');\n                                    table.column($(this).data('col-index')).search('', false, false);\n                                });\n                                table.table().draw();\n                            });\n                            break;\n                    }\n\n                    if (column.title() !== 'Actions') {\n                        $(input).appendTo($('<th>').appendTo(rowFilter));\n                    }\n                });\n\n                // hide search column for responsive table\n                var hideSearchColumnResponsive = function() {\n                    thisTable.api().columns().every(function() {\n                        var column = this\n                        if (column.responsiveHidden()) {\n                            $(rowFilter).find('th').eq(column.index()).show();\n                        } else {\n                            $(rowFilter).find('th').eq(column.index()).hide();\n                        }\n                    })\n                };\n\n                // init on datatable load\n                hideSearchColumnResponsive();\n                // recheck on window resize\n                window.onresize = hideSearchColumnResponsive;\n\n                $('#kt_datepicker_1,#kt_datepicker_2').datepicker();\n            },\n            columnDefs: [{\n                    targets: -1,\n                    title: 'Actions',\n                    orderable: false,\n                    render: function(data, type, full, meta) {\n                        return '\\\n\t\t\t\t\t\t\t<div class=\"dropdown dropdown-inline\">\\\n\t\t\t\t\t\t\t\t<a href=\"javascript:;\" class=\"btn btn-sm btn-clean btn-icon\" data-toggle=\"dropdown\">\\\n\t                                <i class=\"la la-cog\"></i>\\\n\t                            </a>\\\n\t\t\t\t\t\t\t  \t<div class=\"dropdown-menu dropdown-menu-sm dropdown-menu-right\">\\\n\t\t\t\t\t\t\t\t\t<ul class=\"nav nav-hoverable flex-column\">\\\n\t\t\t\t\t\t\t    \t\t<li class=\"nav-item\"><a class=\"nav-link\" href=\"#\"><i class=\"nav-icon la la-edit\"></i><span class=\"nav-text\">Edit Details</span></a></li>\\\n\t\t\t\t\t\t\t    \t\t<li class=\"nav-item\"><a class=\"nav-link\" href=\"#\"><i class=\"nav-icon la la-leaf\"></i><span class=\"nav-text\">Update Status</span></a></li>\\\n\t\t\t\t\t\t\t    \t\t<li class=\"nav-item\"><a class=\"nav-link\" href=\"#\"><i class=\"nav-icon la la-print\"></i><span class=\"nav-text\">Print</span></a></li>\\\n\t\t\t\t\t\t\t\t\t</ul>\\\n\t\t\t\t\t\t\t  \t</div>\\\n\t\t\t\t\t\t\t</div>\\\n\t\t\t\t\t\t\t<a href=\"javascript:;\" class=\"btn btn-sm btn-clean btn-icon\" title=\"Edit details\">\\\n\t\t\t\t\t\t\t\t<i class=\"la la-edit\"></i>\\\n\t\t\t\t\t\t\t</a>\\\n\t\t\t\t\t\t\t<a href=\"javascript:;\" class=\"btn btn-sm btn-clean btn-icon\" title=\"Delete\">\\\n\t\t\t\t\t\t\t\t<i class=\"la la-trash\"></i>\\\n\t\t\t\t\t\t\t</a>\\\n\t\t\t\t\t\t';\n                    },\n                },\n                {\n                    targets: 5,\n                    width: '150px',\n                },\n                {\n                    targets: 6,\n                    render: function(data, type, full, meta) {\n                        var status = {\n                            1: {\n                                'title': 'Pending',\n                                'class': 'label-light-primary'\n                            },\n                            2: {\n                                'title': 'Delivered',\n                                'class': ' label-light-danger'\n                            },\n                            3: {\n                                'title': 'Canceled',\n                                'class': ' label-light-primary'\n                            },\n                            4: {\n                                'title': 'Success',\n                                'class': ' label-light-success'\n                            },\n                            5: {\n                                'title': 'Info',\n                                'class': ' label-light-info'\n                            },\n                            6: {\n                                'title': 'Danger',\n                                'class': ' label-light-danger'\n                            },\n                            7: {\n                                'title': 'Warning',\n                                'class': ' label-light-warning'\n                            },\n                        };\n                        if (typeof status[data] === 'undefined') {\n                            return data;\n                        }\n                        return '<span class=\"label label-lg font-weight-bold' + status[data].class + ' label-inline\">' + status[data].title + '</span>';\n                    },\n                },\n                {\n                    targets: 7,\n                    render: function(data, type, full, meta) {\n                        var status = {\n                            1: {\n                                'title': 'Online',\n                                'state': 'danger'\n                            },\n                            2: {\n                                'title': 'Retail',\n                                'state': 'primary'\n                            },\n                            3: {\n                                'title': 'Direct',\n                                'state': 'success'\n                            },\n                        };\n                        if (typeof status[data] === 'undefined') {\n                            return data;\n                        }\n                        return '<span class=\"label label-' + status[data].state + ' label-dot mr-2\"></span>' +\n                            '<span class=\"font-weight-bold text-' + status[data].state + '\">' + status[data].title + '</span>';\n                    },\n                },\n            ],\n        });\n\n    };\n\n    return {\n\n        //main function to initiate the module\n        init: function() {\n            initTable1();\n        },\n\n    };\n\n}();\n\njQuery(document).ready(function() {\n    KTDatatablesSearchOptionsColumnSearch.init();\n});\n"],"sourceRoot":""}